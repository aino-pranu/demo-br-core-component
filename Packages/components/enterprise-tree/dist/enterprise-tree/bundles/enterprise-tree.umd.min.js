!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("rxjs"),require("rxjs/internal/operators/map"),require("@angular/material"),require("@angular/common"),require("@angular/cdk/a11y"),require("@angular/cdk/drag-drop"),require("@angular/cdk/portal"),require("@angular/cdk/scrolling"),require("@angular/cdk/stepper"),require("@angular/cdk/table"),require("@angular/cdk/tree"),require("@angular/material/autocomplete"),require("@angular/material/badge"),require("@angular/material/bottom-sheet"),require("@angular/material/button"),require("@angular/material/button-toggle"),require("@angular/material/card"),require("@angular/material/checkbox"),require("@angular/material/chips"),require("@angular/material/stepper"),require("@angular/material/datepicker"),require("@angular/material/dialog"),require("@angular/material/divider"),require("@angular/material/expansion"),require("@angular/material/grid-list"),require("@angular/material/icon"),require("@angular/material/input"),require("@angular/material/list"),require("@angular/material/menu"),require("@angular/material/core"),require("@angular/material/paginator"),require("@angular/material/progress-bar"),require("@angular/material/progress-spinner"),require("@angular/material/radio"),require("@angular/material/select"),require("@angular/material/sidenav"),require("@angular/material/slider"),require("@angular/material/slide-toggle"),require("@angular/material/snack-bar"),require("@angular/material/sort"),require("@angular/material/table"),require("@angular/material/tabs"),require("@angular/material/toolbar"),require("@angular/material/tooltip"),require("@angular/material/tree"),require("@angular/forms"),require("@angular/core")):"function"==typeof define&&define.amd?define("enterprise-tree",["exports","rxjs","rxjs/internal/operators/map","@angular/material","@angular/common","@angular/cdk/a11y","@angular/cdk/drag-drop","@angular/cdk/portal","@angular/cdk/scrolling","@angular/cdk/stepper","@angular/cdk/table","@angular/cdk/tree","@angular/material/autocomplete","@angular/material/badge","@angular/material/bottom-sheet","@angular/material/button","@angular/material/button-toggle","@angular/material/card","@angular/material/checkbox","@angular/material/chips","@angular/material/stepper","@angular/material/datepicker","@angular/material/dialog","@angular/material/divider","@angular/material/expansion","@angular/material/grid-list","@angular/material/icon","@angular/material/input","@angular/material/list","@angular/material/menu","@angular/material/core","@angular/material/paginator","@angular/material/progress-bar","@angular/material/progress-spinner","@angular/material/radio","@angular/material/select","@angular/material/sidenav","@angular/material/slider","@angular/material/slide-toggle","@angular/material/snack-bar","@angular/material/sort","@angular/material/table","@angular/material/tabs","@angular/material/toolbar","@angular/material/tooltip","@angular/material/tree","@angular/forms","@angular/core"],t):t(e["enterprise-tree"]={},e.rxjs,e.rxjs["internal/operators/map"],e.ng.material,e.ng.common,e.ng.cdk.a11y,e.ng.cdk["drag-drop"],e.ng.cdk.portal,e.ng.cdk.scrolling,e.ng.cdk.stepper,e.ng.cdk.table,e.ng.cdk.tree,e.ng.material.autocomplete,e.ng.material.badge,e.ng.material["bottom-sheet"],e.ng.material.button,e.ng.material["button-toggle"],e.ng.material.card,e.ng.material.checkbox,e.ng.material.chips,e.ng.material.stepper,e.ng.material.datepicker,e.ng.material.dialog,e.ng.material.divider,e.ng.material.expansion,e.ng.material["grid-list"],e.ng.material.icon,e.ng.material.input,e.ng.material.list,e.ng.material.menu,e.ng.material.core,e.ng.material.paginator,e.ng.material["progress-bar"],e.ng.material["progress-spinner"],e.ng.material.radio,e.ng.material.select,e.ng.material.sidenav,e.ng.material.slider,e.ng.material["slide-toggle"],e.ng.material["snack-bar"],e.ng.material.sort,e.ng.material.table,e.ng.material.tabs,e.ng.material.toolbar,e.ng.material.tooltip,e.ng.material.tree,e.ng.forms,e.ng.core)}(this,function(e,r,a,n,t,o,i,l,s,d,c,u,p,h,g,f,m,b,y,v,N,w,C,x,L,S,M,D,T,j,P,O,k,E,A,I,q,B,R,z,F,H,V,_,W,Q,G,J){"use strict";var U=($.decorators=[{type:J.Injectable,args:[{providedIn:"root"}]}],$.ctorParameters=function(){return[]},$.ngInjectableDef=J.ɵɵdefineInjectable({factory:function(){return new $},token:$,providedIn:"root"}),$);function $(){}function K(e){var t="function"==typeof Symbol&&Symbol.iterator,a=t&&e[t],r=0;if(a)return a.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,o=a.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(r=o.next()).done;)i.push(r.value)}catch(l){n={error:l}}finally{try{r&&!r.done&&(a=o["return"])&&a.call(o)}finally{if(n)throw n.error}}return i}var Y=function(e,t,a,r,n,o,i){this.item=e,this.level=t,this.resultObject=a,this.expandable=r,this.isLoading=n,this.code=o,this.children=i},Z=(Object.defineProperty(ee.prototype,"data",{get:function(){return this.dataChange.value},enumerable:!0,configurable:!0}),Object.defineProperty(ee.prototype,"getCurrentSelectedNode",{get:function(){return this.currentSelectedNode},enumerable:!0,configurable:!0}),Object.defineProperty(ee.prototype,"setCurrentSelectedNode",{set:function(e){this.currentSelectedNode=e,this.currentSelectedNodeSource.next(this.currentSelectedNode)},enumerable:!0,configurable:!0}),Object.defineProperty(ee.prototype,"getRootLevelNodes",{get:function(){return this.rootLevelNodes},enumerable:!0,configurable:!0}),Object.defineProperty(ee.prototype,"setRootLevelNodes",{set:function(e){this.rootLevelNodes=e},enumerable:!0,configurable:!0}),Object.defineProperty(ee.prototype,"getCurrentSelectedLeafNode",{get:function(){return this.currentLeafNodeNames},enumerable:!0,configurable:!0}),Object.defineProperty(ee.prototype,"setCurrentSelectedLeafNode",{set:function(e){this.currentLeafNodeNames=e,this.currentSelectedLeafNodeSource.next(this.currentLeafNodeNames)},enumerable:!0,configurable:!0}),ee.prototype.initialData=function(){var t=this;return this.rootLevelNodes.map(function(e){return new Y(e[t.rootLevelName],0,e,!0)})},ee.prototype.getChildren=function(e){return this.dataMap.get(e)},ee.prototype.isExpandable=function(e){return this.dataMap.has(e)},ee.decorators=[{type:J.Injectable}],ee);function ee(){this.dataChange=new r.BehaviorSubject([]),this.dataMap=new Map,this.nodeLevelMethodConfigurations=new Map,this.nodePropertyNames=new Map,this.currentLeafNodeNames=new Array,this.filteredMode=!1,this.pagingMode=!0,this.rootLevelNodes=[],this.currentSelectedNode=new Y,this.currentSelectedNodeSource=new r.BehaviorSubject(this.currentSelectedNode),this.currentSelectedNodeValue=this.currentSelectedNodeSource.asObservable(),this.currentSelectedLeafNodeSource=new r.BehaviorSubject(this.currentLeafNodeNames),this.currentSelectedLeafNodeValue=this.currentSelectedLeafNodeSource.asObservable()}var te=(Object.defineProperty(ae.prototype,"data",{get:function(){return this.dataChange.value},set:function(e){this.treeControl.dataNodes=e,this.dataChange.next(e)},enumerable:!0,configurable:!0}),Object.defineProperty(ae.prototype,"setActionDispatcher",{set:function(e){this.actionDispatcher=e},enumerable:!0,configurable:!0}),ae.prototype.ngOnInit=function(){throw new Error("Method not implemented.")},ae.prototype.ngOnDestroy=function(){this.changeDetectorRef.detach()},ae.prototype.connect=function(e){var t=this;return this.treeControl.expansionModel.onChange.subscribe(function(e){(e.added||e.removed)&&t.handleTreeControl(e)}),r.merge(e.viewChange,this.dataChange).pipe(a.map(function(){return t.data}))},ae.prototype.disconnect=function(e){this.dataChange.complete()},ae.prototype.handleTreeControl=function(e){var t=this;e.added&&e.added.forEach(function(e){return t.toggleNode(e,!0)}),e.removed&&e.removed.slice().reverse().forEach(function(e){return t.toggleNode(e,!1)})},ae.prototype.toggleNode=function(c,t){var e,a,u,p=this;if((this.database.filteredMode=!1)===this.database.filteredMode){this.database.setCurrentSelectedNode=c;try{for(var r=K(this.database.nodeLevelMethodConfigurations),n=r.next();!n.done;n=r.next()){var o=X(n.value,2),i=o[0],o=o[1];i===c.level&&(i===this.database.nodeLevelMethodConfigurations.size-1?this.actionDispatcher.dispatchAction(o,c.resultObject).then(function(e){var t,a,r=new Array;try{for(var n=K(p.database.nodePropertyNames),o=n.next();!o.done;o=n.next()){var i=X(o.value,2),l=i[0],i=i[1];l===c.level&&(u=i)}}catch(d){t={error:d}}finally{try{o&&!o.done&&(a=n["return"])&&a.call(n)}finally{if(t)throw t.error}}if(null!=e)for(var s=0;s<e.length;s++)r.push(e[s][u]);p.database.setCurrentSelectedLeafNode=e}):(c.isLoading=!0,this.actionDispatcher.dispatchAction(o,c.resultObject).then(function(e){p.populateNodeList(e,c,t)})))}}catch(l){e={error:l}}finally{try{n&&!n.done&&(a=r["return"])&&a.call(r)}finally{if(e)throw e.error}}}},ae.prototype.populateNodeList=function(e,t,a){var r,n,o,i=new Array;try{for(var l=K(this.database.nodePropertyNames),s=l.next();!s.done;s=l.next()){var d=X(s.value,2),c=d[0],d=d[1];c===t.level&&(o=d)}}catch(p){r={error:p}}finally{try{s&&!s.done&&(n=l["return"])&&n.call(l)}finally{if(r)throw r.error}}if(null!=e){for(var u=0;u<e.length;u++)i.push(e[u][o]);this.database.dataMap.set(t.item,i),this.expandChildNodes(t,a,e,i)}else t.isLoading=!1},ae.prototype.expandChildNodes=function(t,e,a,r){var n=this,o=this.database.getChildren(t.item),i=this.data.indexOf(t);if(!o||i<0)console.log("no children returning");else{if(e){var l=0,e=a.map(function(e){return new Y(r[l++],t.level+1,e,n.database.isExpandable(t.item))});(a=this.data).splice.apply(a,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(X(arguments[t]));return e}([i+1,0],e))}else{for(var s=0,d=i+1;d<this.data.length&&this.data[d].level>t.level;d++,s++);this.data.splice(i+1,s)}this.dataChange.next(this.data),t.isLoading=!1,this.changeDetectorRef.detectChanges()}},ae.decorators=[{type:J.Injectable}],ae.ctorParameters=function(){return[{type:u.FlatTreeControl},{type:Z},{type:J.ChangeDetectorRef}]},ae);function ae(e,t,a){this.treeControl=e,this.database=t,this.changeDetectorRef=a,this.dataChange=new r.BehaviorSubject([])}var re=(Object.defineProperty(ne.prototype,"getName",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setName",{set:function(e){this.name=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getEnable",{get:function(){return this.enable},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setEnable",{set:function(e){this.enable=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getToken",{get:function(){return this.token},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setToken",{set:function(e){this.token=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getLevel",{get:function(){return this.level},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setLevel",{set:function(e){this.level=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getType",{get:function(){return this.type},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setType",{set:function(e){this.type=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getIcon",{get:function(){return this.isIcon},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setIcon",{set:function(e){this.isIcon=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getNodePropertyName",{get:function(){return this.nodePropertyName},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setNodePropertyName",{set:function(e){this.nodePropertyName=e},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"getApp",{get:function(){return this.isApp},enumerable:!0,configurable:!0}),Object.defineProperty(ne.prototype,"setApp",{set:function(e){this.isApp=e},enumerable:!0,configurable:!0}),ne);function ne(e,t,a,r,n,o,i,l){this.name=e,this.enable=t,this.token=a,this.level=r,this.type=n,this.isIcon=o,this.nodePropertyName=i,this.isApp=l}var oe=(Object.defineProperty(ie.prototype,"getname",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(ie.prototype,"setname",{set:function(e){this.name=e},enumerable:!0,configurable:!0}),Object.defineProperty(ie.prototype,"getitem",{get:function(){return this.item},enumerable:!0,configurable:!0}),Object.defineProperty(ie.prototype,"setitem",{set:function(e){this.item=e},enumerable:!0,configurable:!0}),Object.defineProperty(ie.prototype,"getPosition",{get:function(){return this.position},enumerable:!0,configurable:!0}),Object.defineProperty(ie.prototype,"setPosition",{set:function(e){this.position=e},enumerable:!0,configurable:!0}),ie);function ie(e,t,a){this.name=e,this.item=t,this.position=a}var le=(Object.defineProperty(se.prototype,"getTreeHeader",{get:function(){return this.treeHeader},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"setTreeHeader",{set:function(e){this.treeHeader=e},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"getTotalLevels",{get:function(){return this.totalLevels},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"setTotalLevels",{set:function(e){this.totalLevels=e},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"getRootLevelNode",{get:function(){return this.rootLevelNode},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"setRootLevelNode",{set:function(e){this.rootLevelNode=e},enumerable:!0,configurable:!0}),se.prototype.addActionsAndToolConfig=function(e,t,a,r,n,o,i,l){this.actionsAndToolsArr.push(new re(e,t,a,r,n,o,i,l))},Object.defineProperty(se.prototype,"getPageSize",{get:function(){return this.pageSize},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"setPageSize",{set:function(e){this.pageSize=e},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"getLeafNodeTitle",{get:function(){return this.leafNodeTitle},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"setLeafNodeTitle",{set:function(e){this.leafNodeTitle=e},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"getLeafNodeName",{get:function(){return this.leafNodeName},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"setLeafNodeName",{set:function(e){this.leafNodeName=e},enumerable:!0,configurable:!0}),Object.defineProperty(se.prototype,"getLeafNodeColumnConfig",{get:function(){return this.leafColumnConfigArr},enumerable:!0,configurable:!0}),se.prototype.addLeafNodeColumnConfig=function(e,t,a){this.leafColumnConfigArr.push(new oe(e,t,a))},se.decorators=[{type:J.Injectable,args:[{providedIn:"root"}]}],se.ctorParameters=function(){return[]},se.ngInjectableDef=J.ɵɵdefineInjectable({factory:function(){return new se},token:se,providedIn:"root"}),se);function se(){this.actionsAndToolsArr=new Array,this.leafColumnConfigArr=new Array}var de=function(){},ce=function(){},ue=(pe.prototype.ngOnDestroy=function(){this.ref.detach()},pe.prototype.ngOnInit=function(){var t=this;this.leafColumnConfig=[],this.database.currentSelectedNodeValue.subscribe(function(e){e.item!==undefined&&(t.enableInitialText.setEnable=!1,(t.enableNodeDetails.setEnable=!0)===t.enableLeafNodeDetails.enable&&(t.enableLeafNodeDetails.enable=!1),t.currentNodeDetailList.clear(),t.clearLeafTableData(),t.printDetails(e.resultObject),t.ref.detectChanges())}),this.database.currentSelectedLeafNodeValue.subscribe(function(e){0!==e.length&&(t.enableInitialText.setEnable=!1,t.enableNodeDetails.setEnable=!0,t.enableLeafNodeDetails.setEnable=!0,t.treeLeafDataList=e,t.ref.detectChanges(),t.createLeafNodeDetailGrid())})},pe.prototype.printDetails=function(e){var t,a,r;for(r in!0===this.database.filteredMode&&!0===this.enableLeafNodeDetails.enable&&(this.enableLeafNodeDetails.enable=!1),e)if(e[r]instanceof Object)this.printDetails(e[r]);else try{for(var n=K(Object.entries(e)),o=n.next();!o.done;o=n.next()){var i=X(o.value,2),l=i[0];i[1]instanceof Array&&delete e[l],this.currentNodeDetailList.set(r,e[r])}}catch(s){t={error:s}}finally{try{o&&!o.done&&(a=n["return"])&&a.call(n)}finally{if(t)throw t.error}}},Object.defineProperty(pe.prototype,"setTreeData",{set:function(e){this.treeData=e},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"setActionDispatcher",{set:function(e){this.actionDispatcher=e,this.dataSource.setActionDispatcher=e},enumerable:!0,configurable:!0}),Object.defineProperty(pe.prototype,"setTreeConfig",{set:function(e){e.pageSize==undefined&&null==e.pageSize||(this.pageSize=e.pageSize),this.treeHeader=e.treeHeader,this.treeConfig=e.actionsAndToolsArr,this.rootLevelNode=e.rootLevelNode,this.totalLevels=e.totalLevels,this.leafNodeTitle=e.leafNodeTitle,this.leafNodeName=e.leafNodeName,this.treeConfiguration.setTotalLevels=e.totalLevels,this.leafColumnConfig=e.leafColumnConfigArr,this.sortTreeConfig(this.treeConfig),this.setTreeDataToTreeView()},enumerable:!0,configurable:!0}),pe.prototype.sortTreeConfig=function(e){for(var t=Object.getOwnPropertyNames(this),a=0;a<t.length;a++)for(var r=0;r<e.length;r++)if(e[r].name===t[a]){this[t[a]]=e[r];break}for(r=0;r<e.length;r++)"node_action"===e[r].type&&(this.database.nodeLevelMethodConfigurations.set(e[r].level,e[r].token),this.database.nodePropertyNames.set(e[r].level,e[r].nodePropertyName))},pe.prototype.setTreeDataToTreeView=function(){var t=this;this.treeData.getRootNodeData(this.pageNumber,this.pageSize).then(function(e){t.database.rootLevelName=t.rootLevelNode,t.database.rootLevelNodes=e,t.dataSource.data=t.database.initialData()})},pe.prototype.getNextBatchOfPage=function(){var a=this;0===Math.floor(this.virtualScroll.measureScrollOffset("bottom"))&&(console.log(Math.floor(this.virtualScroll.measureScrollOffset("bottom")),"getNextBatchOfPage "),!0===this.database.pagingMode&&this.treeData.getNextPage(++this.pageNumber,this.pageSize).then(function(e){if(null!=e){a.treeDataList=e,a.database.rootLevelName=a.rootLevelNode;for(var t=0;t<a.treeDataList.length;t++)a.database.rootLevelNodes.push(a.treeDataList[t]);a.dataSource.data=a.database.initialData()}},function(e){console.log(e)}))},pe.prototype.filterNodes=function(e){var t=this;this.database.filteredMode=!0,this.database.pagingMode=!1,e&&(this.enableInitialText.setEnable=!0,this.enableNodeDetails.setEnable=!1,this.actionDispatcher.dispatchAction(this.nodeFilteration.token,e).then(function(e){t.treeControl=new u.FlatTreeControl(t.getLevel,t.isExpandable),t.dataSource=new n.MatTreeFlatDataSource(t.treeControl,t.treeFlattener),0<e.length&&t.createSearchedNodes(e)})),""===e&&(this.enableInitialText.setEnable=!0,this.enableNodeDetails.setEnable=!1,this.enableLeafNodeDetails.setEnable=!1,this.ref.detectChanges(),this.treeControl=new u.FlatTreeControl(this.getLevel,this.isExpandable),this.dataSource=new te(this.treeControl,this.database,this.ref),this.dataSource.setActionDispatcher=this.actionDispatcher,this.database.pagingMode=!0,this.setTreeDataToTreeView(),this.treeControl.collapseAll()),this.ref.detectChanges()},pe.prototype.createSearchedNodes=function(e){this.nodeCodeList=this.treeData.getSearchResultDataHierarchyCode(e),this.dataSource.data=this.nodeCodeList;e=this.buildSearchResultTree(this.nodeCodeList,"0");this.database.dataChange.next(e),this.treeControl.expandAll()},pe.prototype.buildSearchResultTree=function(r,n){var o=this;return r.filter(function(e){return e.code.startsWith(n+".")&&(e.code.match(/\./g)||[]).length===(n.match(/\./g)||[]).length+1}).map(function(e){var t=new de;t.item=e.item,t.code=e.code,t.resultObject=e.resultObject;var a=r.filter(function(e){return e.code.startsWith(n+".")});return a&&0<a.length&&(t.children=o.buildSearchResultTree(a,e.code)),t})},pe.prototype.displayCurrentSearchNodeDetails=function(e){if(!0===this.database.filteredMode)for(var t,a=0;a<this.nodeCodeList.length;a++){e.item===this.nodeCodeList[a].item&&(e.level===this.database.nodePropertyNames.size-1?(delete(t=JSON.parse(JSON.stringify(this.nodeCodeList[a]))).resultObject[this.leafNodeName],this.database.setCurrentSelectedNode=t,t=Object.values(this.nodeCodeList[a].resultObject[this.leafNodeName]),this.database.setCurrentSelectedLeafNode=t):(e.resultObject=this.nodeCodeList[a].resultObject,this.database.setCurrentSelectedNode=e))}else this.database.setCurrentSelectedNode=e},pe.prototype.clearLeafTableData=function(){for(var e=document.getElementsByTagName("th"),t=(document.getElementsByClassName("th-div")[0],0);t<e.length;)e[t].remove();for(var a=document.getElementsByTagName("tr"),t=0;t<a.length;)a[t].remove()},pe.prototype.createLeafNodeDetailGrid=function(){this.leafContainerElement=document.getElementById("leaf-container"),this.createLeafTableHeading();var e=null;for(this.counter=0;this.counter<this.treeLeafDataList.length;this.counter++){for(var t in this.createLeafRows(this.counter),this.treeLeafDataList[this.counter])for(var a,r,n=0;n<this.leafColumnConfig.length;n++){this.leafColumnConfig[n].name===t&&(r=document.getElementsByClassName("table-row-data").length,e=document.getElementsByClassName("table-row-data")[r-1].cells,a=this.leafColumnConfig[n].position,r=this.treeLeafDataList[this.counter][t],e[a].innerHTML=r)}e[e.length-1].style.right="0px",e[e.length-1].style.width="5%",e[e.length-1].style.height="40px",e[e.length-1].style.whiteSpace="nowrap",e[e.length-1].style.backgroundColor="white",e[e.length-1].style.maxWidth="100px",e[e.length-1].style.overflow="hidden",e[e.length-1].style.textOverflow="ellipsis"}},pe.prototype.createLeafTableHeading=function(){for(var e=document.getElementsByClassName("th-div")[0],t=0;t<this.leafColumnConfig.length;t++){this.thElement=document.createElement("th"),this.thElement.style.padding="10px",this.thElement.style.textAlign="left",this.thElement.style.borderBottom="1px solid #ddd",this.thElement.style.fontFamily='"Questrial", sans-serif',this.thElement.style.border="none",this.thElement.style.outline="none",this.thElement.style.fontSize="14px",this.thElement.style.letterSpacing="1px",this.thElement.style.height="16px",this.thElement.style.color="rgba(0,0,0,.54)",this.thElement.style.width="5%";var a=this.leafColumnConfig[t].name;this.thElement.innerHTML=this.leafColumnConfig[t].item,this.thElement.classList.add(a),e.appendChild(this.thElement)}},pe.prototype.createLeafRows=function(e){this.row=document.createElement("tr"),this.row.style.background="white",this.row.style.padding="5px",this.row.classList.add("table-row-data"),this.leafContainerElement.appendChild(this.row),this.styleLeafCells()},pe.prototype.styleLeafCells=function(){for(var e=0;e<this.leafColumnConfig.length;e++)this.tdElement=document.createElement("td"),this.tdElement.style.paddingTop="10px",this.tdElement.style.paddingBottom="10px",this.tdElement.style.padding="10px",this.tdElement.style.textAlign="left",this.tdElement.style.borderBottom="1px solid #ddd",this.tdElement.style.fontFamily='"Questrial", sans-serif',this.tdElement.style.border="none",this.tdElement.style.outline="none",this.tdElement.style.height="39px",this.tdElement.style.verticalAlign="middle",this.tdElement.style.width="5%",this.row.appendChild(this.tdElement)},pe.prototype.openAppInSameWindow=function(e,t){this.actionDispatcher.dispatchAction(e,t.toLowerCase()),this.closeDropdown()},pe.prototype.openAppInNewTab=function(e,t){this.actionDispatcher.dispatchAction(e,t.toLowerCase()),this.closeDropdown()},pe.prototype.closeDropdown=function(){for(var e=document.getElementsByClassName("dropdown-content"),t=0;t<e.length;t++){var a=e[t];a.classList.contains("show")&&a.classList.remove("show")}},pe.prototype.showDropdown=function(e){e.target.matches(".app-dropdown-button")&&(null!=e.target.offsetParent.nextSibling&&e.target.offsetParent.nextSibling.matches(".dropdown-content")?e.target.offsetParent.nextSibling.classList.toggle("show"):null!=e.target.nextSibling&&e.target.nextSibling.matches(".dropdown-content")&&e.target.nextSibling.classList.toggle("show"))},pe.decorators=[{type:J.Component,args:[{selector:"ao-enterprise-tree",template:'<div class="treeBgColor enterp-tree-container">\n    <mat-toolbar class="treeBgColor action-bar" *ngIf="enableActionToolbar.enable">\n        <h2>{{ treeHeader }} |</h2>\n        <span> Showing all {{ treeHeader + "s" | lowercase }}</span>\n    </mat-toolbar>\n\n    <mat-toolbar class="search-toolbar" *ngIf="enableSearchToolBar.enable">\n\n        <mat-form-field>\n            <input matInput placeholder="Search" (keyup)="filterNodes($event.target.value)">\n        </mat-form-field>\n\n    </mat-toolbar>\n\n    <div class="main-tree-container">\n        <div class="tree-sidenav-card">\n\n            <cdk-virtual-scroll-viewport CdkScrollable itemSize="1" id="example-viewport1"\n                (scroll)="getNextBatchOfPage()">\n\n                <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">\n\n                    <mat-tree-node *matTreeNodeDef="let node; when: hasChild;" matTreeNodePadding class="parent-node"\n                        matTreeNodeToggle (click)="displayCurrentSearchNodeDetails(node)">\n                        <button mat-icon-button [attr.aria-label]="node.item" class="toggle-button" matTreeNodeToggle>\n                            <mat-icon class="mat-icon-rtl-mirror">\n                                {{treeControl.isExpanded(node) ? \'expand_more\' : \'chevron_right\'}}\n                            </mat-icon>\n                        </button>\n                        {{node.item}}\n\n                        <div class="dropdown">\n                            <button mat-icon-button class="app-dropdown-button" aria-label="Example icon-button with a menu"\n                                (click)="showDropdown($event)">\n                                <mat-icon class="app-dropdown-button">more_vert</mat-icon>\n                            </button>\n\n                            <div class="dropdown-content">\n                                <a href="#" (click)="openAppInSameWindow(openAppSameWindow.token, node.item);">\n                                    <mat-icon>apps</mat-icon>\n                                    <span class="dropdown-item">App</span>\n                                </a>\n                                <a href="#" (click)="openAppInNewTab(openAppNewTab.token, node.item);">\n                                    <mat-icon>launch</mat-icon>\n                                    <span class="dropdown-item">Open in new window</span>\n                                </a>\n                            </div>\n                        </div>\n\n                        <mat-progress-bar *ngIf="node.isLoading" mode="indeterminate" class="example-tree-progress-bar">\n                        </mat-progress-bar>\n                    </mat-tree-node>\n                </mat-tree>\n\n            </cdk-virtual-scroll-viewport>\n        </div>\n        <div class="tree-details-container">\n            <div *ngIf="enableInitialText.enable" style="padding: 29px;">Select a tree node to see details.</div>\n\n            <mat-card *ngIf="enableNodeDetails.enable" class="node-detail-card">\n                <div class="node-fields">\n                    <div class="detail-card-title">Summary</div>\n                    <p *ngFor="let element of currentNodeDetailList | keyvalue">{{element.key}} : {{element.value}}</p>\n                </div>\n\n                <div class="leaf-node-details" *ngIf="enableLeafNodeDetails.enable">\n                    <div class="leaf-node-title">{{leafNodeTitle}}</div>\n                    <div id="leaf-container">\n                        <div class="th-div"></div>\n                    </div>\n                    \x3c!-- <p *ngFor="let e of currentLeafNodeDetailList | keyvalue">{{e.value}}</p> --\x3e\n                </div>\n            </mat-card>\n        </div>\n    </div>\n</div>',providers:[Z],changeDetection:J.ChangeDetectionStrategy.Default,styles:[".example-tree-progress-bar{margin-left:30px}.treeBgColor{background:#f0f1f3}span{font-weight:100;color:rgba(0,0,0,.54);font-size:15px;margin-left:2px}h2{margin-left:5px;color:#414c55;font-family:Questrial,sans-serif;font-weight:700;letter-spacing:1px}.mat-toolbar-row,.mat-toolbar-single-row{height:55px}.search-toolbar{background:#fff}.main-tree-container{width:100%;display:inline-flex;height:74vh}.tree-sidenav-card{padding:11px;width:67vw}.tree-details-container{width:34vw;background:#fff;height:74vh;margin:11px 11px 11px 0}#example-viewport1{height:74vh;width:100%;overflow-x:hidden}.mat-tree-node{font-size:15px;padding:4px;min-height:59px}.mat-tree-node:hover{cursor:pointer}.node-detail-card{margin:3% 4%;border-radius:23px;height:-webkit-fill-available;box-shadow:0 10px 20px rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23)}.node-fields{padding:inherit}.detail-card-title,.leaf-node-title{font-family:Questrial,sans-serif;letter-spacing:1px;font-weight:700;font-size:19px}.leaf-node-title{padding-left:14px}#leaf-container{padding-left:6px}p{font-family:Questrial,sans-serif;letter-spacing:1px;font-size:15px}.search-form-field{width:100%}.mat-form-field{font-size:15px}.mat-input-element{font:icon}::-webkit-scrollbar{width:7px}::-webkit-scrollbar-track{background:#f1f1f1;border-radius:13px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}::-webkit-scrollbar-thumb{background:#20b2aa;border-radius:13px;box-shadow:inset 0 0 6px rgba(0,0,0,.3);-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.example-tree-invisible{display:none}.example-tree li,.example-tree ul{margin-top:0;margin-bottom:0;list-style-type:none}.app-dropdown-button{visibility:hidden}mat-tree-node:hover .app-dropdown-button{visibility:visible}.dropdown-content{display:none;position:absolute;background-color:#f1f1f1;min-width:160px;overflow:auto;box-shadow:0 8px 16px 0 rgba(0,0,0,.2);z-index:1000}.dropdown-content a{color:#000;padding:12px 16px;text-decoration:none;display:block}.show{display:block}"]}]},{type:J.Injectable,args:[{providedIn:"root"}]}],pe.ctorParameters=function(){return[{type:Z},{type:le},{type:J.ChangeDetectorRef}]},pe.propDecorators={virtualScroll:[{type:J.ViewChild,args:[s.CdkVirtualScrollViewport,{"static":!1}]}]},pe.ngInjectableDef=J.ɵɵdefineInjectable({factory:function(){return new pe(J.ɵɵinject(Z),J.ɵɵinject(le),J.ɵɵinject(J.ChangeDetectorRef))},token:pe,providedIn:"root"}),pe);function pe(e,t,a){var r=this;this.database=e,this.treeConfiguration=t,this.ref=a,this.treeConfig=new Array,this.treeDataList=new Array,this.treeHeader="",this.searchNameSuggestion=[],this.clearFliter=!1,this.filterSelectedValue={},this.displayFilterValue=[],this.counter=0,this.pageNumber=1,this.pageSize=12,this.rootLevelNode="",this.totalLevels=0,this.enableActionToolbar=new re("enableActionToolbar",!1,""),this.enableSearchToolBar=new re("enableSearchToolBar",!1,""),this.enableSearchPlaceholder=new re("enableSearchPlaceholder",!1,""),this.enableSearchBar=new re("enableSearchBar",!1,""),this.enableInitialText=new re("enableInitialText",!1,""),this.enableNodeDetails=new re("enableNodeDetails",!1,""),this.enableLeafNodeDetails=new re("enableLeafNodeDetails",!1,""),this.nodeFilteration=new re("nodeFilteration",!0,""),this.enableAppToolButton=new re("enableAppToolButton",!1,""),this.openAppSameWindow=new re("openAppSameWindow",!1,""),this.openAppNewTab=new re("openAppNewTab",!1,""),this.currentNodeDetailList=new Map,this.currentLeafNodeDetailList=new Array,this.leafColumnConfig=new Array,this.treeLeafDataList=new Array,this.leafNodeTitle="",this.leafNodeName="",this.nodeCodeList=[],this.flatNodeMap=new Map,this.nestedNodeMap=new Map,this.selectedParent=null,this.newItemName="",this.getLevel=function(e){return e.level},this.isExpandable=function(e){return e.expandable},this.getChildren=function(e){return e.children},this.hasChild=function(e,t){return t.expandable},this.hasNoContent=function(e,t){return""===t.item},this.transformer=function(e,t){var a=r.nestedNodeMap.get(e),a=a&&a.item===e.item?a:new ce;return a.item=e.item,a.level=t,a.expandable=!!e.children,r.flatNodeMap.set(a,e),r.nestedNodeMap.set(e,a),a},this.treeControl=new u.FlatTreeControl(this.getLevel,this.isExpandable),this.dataSource=new te(this.treeControl,this.database,this.ref),this.treeFlattener=new n.MatTreeFlattener(this.transformer,this.getLevel,this.isExpandable,this.getChildren),this.database.dataChange.subscribe(function(e){r.dataSource.data=e})}he.decorators=[{type:J.NgModule,args:[{exports:[o.A11yModule,d.CdkStepperModule,c.CdkTableModule,u.CdkTreeModule,i.DragDropModule,p.MatAutocompleteModule,h.MatBadgeModule,g.MatBottomSheetModule,f.MatButtonModule,m.MatButtonToggleModule,b.MatCardModule,y.MatCheckboxModule,v.MatChipsModule,N.MatStepperModule,w.MatDatepickerModule,C.MatDialogModule,x.MatDividerModule,L.MatExpansionModule,S.MatGridListModule,M.MatIconModule,D.MatInputModule,T.MatListModule,j.MatMenuModule,P.MatNativeDateModule,O.MatPaginatorModule,k.MatProgressBarModule,E.MatProgressSpinnerModule,A.MatRadioModule,P.MatRippleModule,I.MatSelectModule,q.MatSidenavModule,B.MatSliderModule,R.MatSlideToggleModule,z.MatSnackBarModule,F.MatSortModule,H.MatTableModule,V.MatTabsModule,_.MatToolbarModule,W.MatTooltipModule,Q.MatTreeModule,l.PortalModule,s.ScrollingModule,G.FormsModule,G.ReactiveFormsModule]}]}],_=he;function he(){}ge.prototype.ngOnInit=function(){this.enterpTreeComp.setTreeData=this.treeData},ge.decorators=[{type:J.Directive,args:[{selector:"[ao-tree-data]"}]}],ge.ctorParameters=function(){return[{type:ue}]},ge.propDecorators={treeData:[{type:J.Input}]},W=ge;function ge(e){this.enterpTreeComp=e}fe.prototype.ngOnInit=function(){this.enterpTreeComp.setActionDispatcher=this.actionDispatcher},fe.decorators=[{type:J.Directive,args:[{selector:"[ao-actions]"}]}],fe.ctorParameters=function(){return[{type:ue}]},fe.propDecorators={actionDispatcher:[{type:J.Input}]},Q=fe;function fe(e){this.enterpTreeComp=e}me.prototype.ngOnInit=function(){this.enterpTreeComp.setTreeConfig=this.treeConfig},me.decorators=[{type:J.Directive,args:[{selector:"[ao-tree-config]"}]}],me.ctorParameters=function(){return[{type:ue}]},me.propDecorators={treeConfig:[{type:J.Input}]},l=me;function me(e){this.enterpTreeComp=e}be.decorators=[{type:J.NgModule,args:[{declarations:[ue,W,Q,l],imports:[t.CommonModule,_],exports:[ue,W,Q,l],providers:[ue],schemas:[J.CUSTOM_ELEMENTS_SCHEMA,J.NO_ERRORS_SCHEMA]}]}],s=be;function be(){}ye.prototype.dispatchAction=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];for(var r=e.split("-"),n=[],o=0;o<r.length;o++)0!==o?n.push(r[o].charAt(0).toUpperCase()+r[o].slice(1)):n.push(r[o]);return this[n.join("")].apply(this,t)},ye.decorators=[{type:J.Injectable,args:[{providedIn:"root"}]}],ye.ctorParameters=function(){return[]},ye.ngInjectableDef=J.ɵɵdefineInjectable({factory:function(){return new ye},token:ye,providedIn:"root"}),G=ye;function ye(){}ve.node="node_action",ve.hover="hover_action",t=ve;function ve(){}e.EnterpriseTreeService=U,e.SearchItemNode=de,e.SearchItemFlatNode=ce,e.EnterpriseTreeComponent=ue,e.EnterpriseTreeModule=s,e.BaseActionDispatcher=G,e.TreeConfig=le,e.ActionsAndToolsConfig=re,e.ActionTypes=t,e.ɵe=_,e.ɵc=Q,e.ɵd=l,e.ɵb=W,e.ɵa=Z,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=enterprise-tree.umd.min.js.map